# ðŸš€ MCP Framework v5.5.x â€“ Production Deployment Guide


## Karma Marketing + Media
## v5.5.41 is the current production release.


---

## Quick Deploy to Render (5 minutes)

### Step 1: Push to GitHub

```bash
git add .
git commit -m "MCP Framework v4.5 - Production Ready"
git push origin main
```

### Step 2: Create Render Account

1. Go to [render.com](https://render.com)
2. Sign up / Log in
3. Click "New +" â†’ "Blueprint"

### Step 3: Connect Repository

1. Connect your GitHub account
2. Select your MCP Framework repository
3. Render will detect `render.yaml` automatically

### Step 4: Set Environment Variables

In Render Dashboard â†’ Your Service â†’ Environment:

**Required (set these!):**
| Variable | Value |
|----------|-------|
| `OPENAI_API_KEY` | Your OpenAI API key |
| `ADMIN_EMAIL` | Your admin email |
| `ADMIN_PASSWORD` | Secure password (16+ chars) |
| `CORS_ORIGINS` | Your domain: `https://yourdomain.com` |

**Optional but recommended:**
| Variable | Value |
|----------|-------|
| `SEMRUSH_API_KEY` | For keyword research |
| `SENDGRID_API_KEY` | For email notifications |
| `ANTHROPIC_API_KEY` | Fallback AI provider |

### Step 5: Deploy

Click "Create Blueprint" and wait ~3-5 minutes.

---

## Post-Deployment Checklist

### âœ… Verify Deployment

1. Visit `https://your-app.onrender.com/health`
   - Should return: `{"status": "healthy", "version": "4.5.0"}`

2. Visit `https://your-app.onrender.com/api`
   - Should show API info

### âœ… Login to Admin

1. Go to `https://your-app.onrender.com/admin`
2. Login with your `ADMIN_EMAIL` and `ADMIN_PASSWORD`
3. Verify "AI Agents" tab shows 7 agents

### âœ… Test Core Flow

1. Go to `/intake` dashboard
2. Enter test client data
3. Verify it creates client and shows in `/agency`

---

## Production URLs

| Dashboard | URL | Purpose |
|-----------|-----|---------|
| Admin | `/admin` | User management, agents, settings |
| Agency | `/agency` | Master dashboard, all clients |
| Intake | `/intake` | New client onboarding |
| Elite | `/elite` | SEO monitoring |
| Portal | `/portal` | Client self-service |
| Client | `/client` | Demo dashboard |

---

## Environment Variables Reference

### Required
```env
DATABASE_URL=postgresql://...     # Auto-set by Render
SECRET_KEY=...                    # Auto-generated by Render
JWT_SECRET_KEY=...                # Auto-generated by Render
OPENAI_API_KEY=sk-...            # Your OpenAI key
ADMIN_EMAIL=admin@yourdomain.com  # First admin email
ADMIN_PASSWORD=SecurePass123!     # First admin password
CORS_ORIGINS=https://yourdomain.com
```

### Optional
```env
ANTHROPIC_API_KEY=sk-ant-...      # Claude fallback
SEMRUSH_API_KEY=...               # Keyword research
SENDGRID_API_KEY=SG....           # Email sending
TWILIO_ACCOUNT_SID=...            # SMS notifications
TWILIO_AUTH_TOKEN=...
TWILIO_FROM_NUMBER=+1...
```

---

## Security Checklist

- [ ] Changed `CORS_ORIGINS` from `*` to your domain
- [ ] Set strong `ADMIN_PASSWORD` (16+ characters)
- [ ] Removed default/test accounts
- [ ] HTTPS enabled (Render does this automatically)
- [ ] API keys stored in Render env vars, not in code

---

## Troubleshooting

### "No admin user" warning
Set `ADMIN_EMAIL` and `ADMIN_PASSWORD` env vars, then redeploy.

### Database connection errors
Check `DATABASE_URL` is set correctly by Render.

### AI generation not working
Verify `OPENAI_API_KEY` is set and has credits.

### CORS errors in browser
Update `CORS_ORIGINS` to include your frontend domain.

---

## Scaling

### Current Setup (Starter - $7/month)
- 512 MB RAM
- 0.5 CPU
- Good for: Development, demos, small clients

### Production (Standard - $25/month)
- 2 GB RAM  
- 1 CPU
- Good for: Multiple active clients

### High Volume (Pro - $85/month)
- 4 GB RAM
- 2 CPU
- Good for: Agency with many clients

To upgrade: Render Dashboard â†’ Your Service â†’ Settings â†’ Instance Type

---

## Support

- GitHub Issues: [your-repo/issues]
- Documentation: This file
- Logs: Render Dashboard â†’ Logs

---

**Version:** 4.5.0  
**Last Updated:** 2024
